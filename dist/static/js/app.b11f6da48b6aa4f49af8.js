webpackJsonp([1],{"+j+a":function(t,e,n){"use strict";var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={render:l,staticRenderFns:i};e.a=s},"1p1J":function(t,e){},"2+ao":function(t,e,n){"use strict";n("Qgp7"),n("Zsfk");e.a={}},"2mXc":function(t,e,n){"use strict";e.a={}},"51dY":function(t,e,n){"use strict";var l=(n("yclV"),n("w3Ae"));e.a={data:function(){return{}},created:function(){},mounted:function(){},methods:{},components:{templateEditor:l.a}}},"CJ/v":function(t,e,n){"use strict";var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-editor"},[n("div",{staticClass:"edit-btns flex-box"},[n("div",{staticClass:"create-btn-wrap"},[n("el-dropdown",{staticClass:"create-btn",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("el-button",{attrs:{size:"mini"}},[t._v("\n          新建元素"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"text"}},[t._v("文本")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"prop"}},[t._v("字段")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"table"}},[t._v("表格")])],1)],1)],1),t._v(" "),n("div",{staticClass:"pannel-block-align"},[n("ul",{staticClass:"block",class:{active:t.isAlignment}},[n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("top")}}},[n("i",{staticClass:"fontalign icon-top"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("middle")}}},[n("i",{staticClass:"fontalign icon-middle"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("bottom")}}},[n("i",{staticClass:"fontalign icon-bottom"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("left")}}},[n("i",{staticClass:"fontalign icon-left"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("center")}}},[n("i",{staticClass:"fontalign icon-center"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("right")}}},[n("i",{staticClass:"fontalign icon-right"})])]),t._v(" "),n("ul",{staticClass:"block",class:{active:t.isDistribution}},[n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("topDistribute")}}},[n("i",{staticClass:"fontalign icon-topDistribute"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("verticalCenter")}}},[n("i",{staticClass:"fontalign icon-verticalCenter"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("bottomDistribute")}}},[n("i",{staticClass:"fontalign icon-bottomDistribute"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("leftDistribute")}}},[n("i",{staticClass:"fontalign icon-leftDistribute"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("horizontalCenter")}}},[n("i",{staticClass:"fontalign icon-horizontalCenter"})]),t._v(" "),n("li",{staticClass:"label",on:{click:function(e){t.itemAlign("rightDistribute")}}},[n("i",{staticClass:"fontalign icon-rightDistribute"})])])]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.clear}},[t._v("\n      清空\n    ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.getPdf}},[t._v("\n      保存\n    ")])],1),t._v(" "),n("div",{staticClass:"edit-content"},[n("div",{staticClass:"edit-info"},[n("div",{ref:"canvas",staticClass:"edit-canvas",class:[{active:t.select.indexOf(t.canvas)>-1}],style:{width:t.canvas.width+"px",height:t.canvas.height+"px",background:t.canvas.background,marginTop:-t.canvas.height/2+"px",marginLeft:-t.canvas.width/2+"px"},on:{click:[function(e){if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return null;e.stopPropagation(),t.handleSelect(t.canvas)},function(e){if(!e.ctrlKey)return null;e.stopPropagation(),t.handleSelectMultiple(t.canvas)}],keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"])?t.handledelete(e):null}}},[t._l(t.canvas.items,function(e,l){return"text"===e.type?n("div",{key:l,ref:e.time,refInFor:!0,staticClass:"item",class:[{active:t.select.indexOf(e)>-1}],style:{left:e.left+"px",top:e.top+"px",fontSize:e.fontSize+"px",fontWeight:e.fontWeight?"bold":"normal",fontStyle:e.fontStyle?"italic":"normal",color:""+e.fontColor},attrs:{tabindex:l},on:{click:[function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleSelect(e)},function(n){if(!n.ctrlKey)return null;n.stopPropagation(),t.handleSelectMultiple(e)}],mousedown:function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleonmousedown(n,null,null,e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"]))return null;e.top-=1},function(n){if(!("button"in n)&&t._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"]))return null;e.top+=1},function(n){return"button"in n||!t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:void(e.left-=1):null},function(n){return"button"in n||!t._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])?"button"in n&&2!==n.button?null:void(e.left+=1):null}],keyup:function(n){return("button"in n||67===n.keyCode)&&n.ctrlKey?n.shiftKey||n.altKey||n.metaKey?null:void t.handlecopy(e):null}}},[t._v("\n          "+t._s(e.content)+"\n        ")]):t._e()}),t._v(" "),t._l(t.canvas.items,function(e,l){return"prop"===e.type?n("div",{key:l,ref:e.time,refInFor:!0,staticClass:"item",class:[{active:t.select.indexOf(e)>-1}],style:{left:e.left+"px",top:e.top+"px",fontSize:e.labelFontSize+"px",fontWeight:e.labelFontWeight?"bold":"normal",color:""+e.labelFontColor},attrs:{tabindex:l},on:{click:[function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleSelect(e)},function(n){if(!n.ctrlKey)return null;n.stopPropagation(),t.handleSelectMultiple(e)}],mousedown:function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleonmousedown(n,null,null,e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"]))return null;e.top-=1},function(n){if(!("button"in n)&&t._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"]))return null;e.top+=1},function(n){return"button"in n||!t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:void(e.left-=1):null},function(n){return"button"in n||!t._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])?"button"in n&&2!==n.button?null:void(e.left+=1):null}],keyup:function(n){return("button"in n||67===n.keyCode)&&n.ctrlKey?n.shiftKey||n.altKey||n.metaKey?null:void t.handlecopy(e):null}}},[t._v("\n          "+t._s(e.label)+"\n          "),n("span",{style:{fontSize:e.valueFontSize+"px",fontWeight:e.valueFontWeight?"bold":"normal",color:""+e.valueFontColor,marginLeft:e.valueMarginLeft+"px"}},[t._v(t._s("{"+e.value+"}"))])]):t._e()}),t._v(" "),t._l(t.canvas.items,function(e,l){return"table"===e.type?n("div",{key:l,ref:e.time,refInFor:!0,staticClass:"item g-table",class:[{active:t.select.indexOf(e)>-1}],style:{left:e.left+"px",top:e.top+"px",height:e.allHeight+"px",borderColor:""+e.borderColor,borderWidth:e.borderWidth+"px"},attrs:{tabindex:l},on:{click:[function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleSelect(e)},function(n){if(!n.ctrlKey)return null;n.stopPropagation(),t.handleSelectMultiple(e)}],mousedown:function(n){if(n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;n.stopPropagation(),t.handleonmousedown(n,null,null,e)},keydown:[function(n){if(!("button"in n)&&t._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"]))return null;e.top-=1},function(n){if(!("button"in n)&&t._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"]))return null;e.top+=1},function(n){return"button"in n||!t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:void(e.left-=1):null},function(n){return"button"in n||!t._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])?"button"in n&&2!==n.button?null:void(e.left+=1):null}],keyup:function(n){return("button"in n||67===n.keyCode)&&n.ctrlKey?n.shiftKey||n.altKey||n.metaKey?null:void t.handlecopy(e):null}}},[n("div",{staticClass:"g-tHead flex-box",style:{borderBottomWidth:e.borderWidth+"px",borderColor:""+e.borderColor}},t._l(e.tHead,function(l,i){return n("div",{key:i,staticClass:"g-column",style:{borderRightWidth:e.borderWidth+"px",borderColor:""+e.borderColor,fontSize:e.tHeadFontSize+"px",fontWeight:e.tHeadFontWeight?"bold":"normal",color:""+e.tHeadFontColor,lineHeight:e.tHeadHeight+"px",width:l.width+"px"}},[t._v("\n              "+t._s(l.content)+"\n            ")])})),t._v(" "),n("div",{staticClass:"g-line-box flex-box",style:{height:"calc(100% - "+e.tHeadHeight+"px - "+e.borderWidth+"px)"}},t._l(e.tHead,function(l,i){return n("div",{key:i,staticClass:"g-column",style:{borderRightWidth:e.borderWidth+"px",borderColor:""+e.borderColor,width:l.width+"px",height:e.valueHeight*e.lineNumber>Number("calc(100% - "+e.tHeadHeight+"px - "+e.borderWidth+"px)")?"auto":"100%"}},t._l(e.lineNumber,function(l,i){return n("p",{key:i,staticClass:"g-line",style:{borderBottomWidth:e.borderWidth+"px",borderColor:""+e.borderColor,fontSize:e.valueFontSize+"px",fontWeight:e.valueFontWeight?"bold":"normal",color:""+e.valueFontColor,lineHeight:e.valueHeight*e.lineNumber>e.allHeight-e.tHeadHeight-e.borderWidth?e.valueHeight+"px":"calc(("+e.allHeight+"px - "+e.tHeadHeight+"px - "+e.borderWidth+"px - "+(e.lineNumber-1)*e.borderWidth+"px) / "+e.lineNumber+")"}},[t._v("\n                "+t._s("{"+e.value+"}")+"\n              ")])}))}))]):t._e()})],2)]),t._v(" "),n("div",{staticClass:"edit-pannel"},[1===t.select.length?n("div",["canvas"===t.select[0].type?n("div",{staticClass:"pannel-block-attr"},[n("div",{staticClass:"block-tit"},[t._v("模板")]),t._v(" "),n("ul",{staticClass:"block"},[n("li",{staticClass:"label",on:{mousewheel:function(e){t.handlemousewheel(e,null,"width")},mousedown:function(e){t.handleonmousedown(e,null,"width")}}},[n("span",[t._v("宽度")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].width))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){t.handlemousewheel(e,null,"height")},mousedown:function(e){t.handleonmousedown(e,null,"height")}}},[n("span",[t._v("高度")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].height))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("背景颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].background,callback:function(e){t.$set(t.select[0],"background",e)},expression:"select[0].background"}})],1)])])]):t._e(),t._v(" "),"text"===t.select[0].type?n("div",{staticClass:"pannel-block-attr"},[n("div",{staticClass:"block-tit"},[t._v("文字")]),t._v(" "),n("ul",{staticClass:"block"},[n("li",{staticClass:"label input"},[n("span",[t._v("内容")]),t._v(" "),n("div",{staticClass:"info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.select[0].content,expression:"select[0].content"}],attrs:{type:"text"},domProps:{value:t.select[0].content},on:{input:function(e){e.target.composing||t.$set(t.select[0],"content",e.target.value)}}})])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"left")},mousedown:function(e){t.handleonmousedown(e,null,"left")}}},[n("span",[t._v("X")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].left))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"top")},mousedown:function(e){t.handleonmousedown(e,null,"top")}}},[n("span",[t._v("Y")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].top))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"fontSize")},mousedown:function(e){t.handleonmousedown(e,null,"fontSize")}}},[n("span",[t._v("文字大小")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].fontSize))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("文字颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].fontColor,callback:function(e){t.$set(t.select[0],"fontColor",e)},expression:"select[0].fontColor"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("文字加粗")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].fontWeight,callback:function(e){t.$set(t.select[0],"fontWeight",e)},expression:"select[0].fontWeight"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("文字倾斜")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].fontStyle,callback:function(e){t.$set(t.select[0],"fontStyle",e)},expression:"select[0].fontStyle"}})],1)])])]):t._e(),t._v(" "),"prop"===t.select[0].type?n("div",{staticClass:"pannel-block-attr"},[n("div",{staticClass:"block-tit"},[t._v("字段")]),t._v(" "),n("ul",{staticClass:"block"},[n("li",{staticClass:"label input"},[n("span",[t._v("标签")]),t._v(" "),n("div",{staticClass:"info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.select[0].label,expression:"select[0].label"}],attrs:{type:"text"},domProps:{value:t.select[0].label},on:{input:function(e){e.target.composing||t.$set(t.select[0],"label",e.target.value)}}})])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"left")},mousedown:function(e){t.handleonmousedown(e,null,"left")}}},[n("span",[t._v("X")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].left))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"top")},mousedown:function(e){t.handleonmousedown(e,null,"top")}}},[n("span",[t._v("Y")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].top))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"labelFontSize")},mousedown:function(e){t.handleonmousedown(e,null,"labelFontSize")}}},[n("span",[t._v("标签文字大小")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].labelFontSize))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("标签文字颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].labelFontColor,callback:function(e){t.$set(t.select[0],"labelFontColor",e)},expression:"select[0].labelFontColor"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("标签文字加粗")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].labelFontWeight,callback:function(e){t.$set(t.select[0],"labelFontWeight",e)},expression:"select[0].labelFontWeight"}})],1)]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"valueFontSize")},mousedown:function(e){t.handleonmousedown(e,null,"valueFontSize")}}},[n("span",[t._v("值文字大小")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].valueFontSize))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("值文字颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].valueFontColor,callback:function(e){t.$set(t.select[0],"valueFontColor",e)},expression:"select[0].valueFontColor"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("值文字加粗")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].valueFontWeight,callback:function(e){t.$set(t.select[0],"valueFontWeight",e)},expression:"select[0].valueFontWeight"}})],1)]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"valueMarginLeft")},mousedown:function(e){t.handleonmousedown(e,null,"valueMarginLeft")}}},[n("span",[t._v("值与标签的距离")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].valueMarginLeft))])])])]):t._e(),t._v(" "),"table"===t.select[0].type?n("div",{staticClass:"pannel-block-attr"},[n("div",{staticClass:"block-tit"},[t._v("表格")]),t._v(" "),n("ul",{staticClass:"block"},[n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"columnNumber",t.tableChange)},mousedown:function(e){t.handleonmousedown(e,null,"columnNumber",null,t.tableChange)}}},[n("span",[t._v("列数")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].columnNumber))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"boxWidth",t.tableChange)},mousedown:function(e){t.handleonmousedown(e,null,"boxWidth",null,t.tableChange)}}},[n("span",[t._v("平均列宽")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].boxWidth))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"borderWidth")},mousedown:function(e){t.handleonmousedown(e,null,"borderWidth")}}},[n("span",[t._v("边框宽度")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].borderWidth))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("边框颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].borderColor,callback:function(e){t.$set(t.select[0],"borderColor",e)},expression:"select[0].borderColor"}})],1)]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"allHeight")},mousedown:function(e){t.handleonmousedown(e,null,"allHeight")}}},[n("span",[t._v("表高")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].allHeight))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"left")},mousedown:function(e){t.handleonmousedown(e,null,"left")}}},[n("span",[t._v("X")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].left))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"top")},mousedown:function(e){t.handleonmousedown(e,null,"top")}}},[n("span",[t._v("Y")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].top))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"tHeadFontSize")},mousedown:function(e){t.handleonmousedown(e,null,"tHeadFontSize")}}},[n("span",[t._v("表头文字大小")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].tHeadFontSize))])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"tHeadHeight")},mousedown:function(e){t.handleonmousedown(e,null,"tHeadHeight")}}},[n("span",[t._v("表头行高")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].tHeadHeight))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("表头文字颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].tHeadFontColor,callback:function(e){t.$set(t.select[0],"tHeadFontColor",e)},expression:"select[0].tHeadFontColor"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("表头文字加粗")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].tHeadFontWeight,callback:function(e){t.$set(t.select[0],"tHeadFontWeight",e)},expression:"select[0].tHeadFontWeight"}})],1)]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(e){e.preventDefault(),t.handlemousewheel(e,null,"valueFontSize")},mousedown:function(e){t.handleonmousedown(e,null,"valueFontSize")}}},[n("span",[t._v("值文字大小")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(t.select[0].valueFontSize))])]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("值文字颜色")]),t._v(" "),n("div",{staticClass:"info"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.select[0].valueFontColor,callback:function(e){t.$set(t.select[0],"valueFontColor",e)},expression:"select[0].valueFontColor"}})],1)]),t._v(" "),n("li",{staticClass:"label"},[n("span",[t._v("值文字加粗")]),t._v(" "),n("div",{staticClass:"info"},[n("el-switch",{model:{value:t.select[0].valueFontWeight,callback:function(e){t.$set(t.select[0],"valueFontWeight",e)},expression:"select[0].valueFontWeight"}})],1)])]),t._v(" "),t._l(t.select[0].tHead,function(e,l){return n("div",{key:l},[n("div",{staticClass:"block-tit"},[t._v("第"+t._s(l+1)+"列")]),t._v(" "),n("ul",{staticClass:"block"},[n("li",{staticClass:"label small-input"},[n("span",[t._v("标签")]),t._v(" "),n("div",{staticClass:"info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],attrs:{type:"text"},domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})])]),t._v(" "),n("li",{staticClass:"label",on:{mousewheel:function(n){n.preventDefault(),t.handlemousewheel(n,e,"width")},mousedown:function(n){t.handleonmousedown(n,e,"width")}}},[n("span",[t._v("列宽")]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.width))])])])])})],2):t._e()]):t._e()])])])},i=[],s={render:l,staticRenderFns:i};e.a=s},GMIA:function(t,e,n){"use strict";var l,i=n("a3Yh"),s=n.n(i),o=n("Qgp7");e.a=(l={},s()(l,o.b,function(t,e){t.orderFlowInfo=e}),s()(l,o.a,function(t,e){t.orderFlowInfoActive=e}),s()(l,o.c,function(t,e){t.houseDialog=!t.houseDialog,e&&(t.finalState=e.colorType,t.houseResId=e.houseResId)}),l)},L8Y5:function(t,e,n){"use strict";function l(t){n("io3+")}var i=n("51dY"),s=n("ZQGu"),o=n("C7Lr"),a=l,c=o(i.a,s.a,!1,a,null,null);e.a=c.exports},M93x:function(t,e,n){"use strict";function l(t){n("1p1J")}var i=n("sEFh"),s=n("+j+a"),o=n("C7Lr"),a=l,c=o(i.a,s.a,!1,a,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n("IvJb"),i=n("M93x"),s=n("YaEn"),o=n("Zsfk"),a=n("srH3"),c=n.n(a);l.default.use(c.a),new l.default({el:"#app",store:o.a,router:s.a,render:function(t){return t(i.a)},template:"<App/>",components:{App:i.a}})},Qgp7:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return s});var l="SAVE_ORDERFLOWADD",i="SAVE_ORDERFLOWACTIVE",s="SHOW_HOUSE_INFO"},YaEn:function(t,e,n){"use strict";var l=n("IvJb"),i=n("zO6J"),s=n("L8Y5");l.default.use(i.a),e.a=new i.a({routes:[{path:"",redirect:"/index",hidden:!0},{path:"/index",component:s.a,name:"文件模版编辑器"}]})},ZQGu:function(t,e,n){"use strict";var l=function(){var t=this,e=t.$createElement;return(t._self._c||e)("templateEditor")},i=[],s={render:l,staticRenderFns:i};e.a=s},Zsfk:function(t,e,n){"use strict";var l=n("rVsN"),i=n.n(l),s=n("IvJb"),o=n("9rMa"),a=n("GMIA"),c=n("2+ao"),r=n("2mXc");s.default.use(o.a),window.Promise=i.a;var u={history:[]};e.a=new o.a.Store({state:u,getters:r.a,actions:c.a,mutations:a.a})},e3OG:function(t,e,n){"use strict";var l=n("3cXf"),i=n.n(l),s=n("psq8"),o=n.n(s),a=n("iE8p"),c=n.n(a),r=n("a40n"),u=n.n(r);e.a={data:function(){return{elements:{text:{type:"text",content:"joubn",fontSize:36,fontColor:"#000",fontWeight:!1,fontStyle:!1,left:0,top:0},prop:{type:"prop",label:"姓名:",labelFontSize:36,labelFontWeight:!1,labelFontColor:"#000",value:"name",valueFontSize:20,valueFontWeight:!1,valueFontColor:"#000",valueMarginLeft:0,left:0,top:0},table:{type:"table",columnNumber:2,lineNumber:1,boxWidth:100,allHeight:300,borderColor:"#000",borderWidth:2,tHead:[{content:"姓名",width:100},{content:"姓名",width:100}],tHeadHeight:60,tHeadFontSize:30,tHeadFontWeight:!1,tHeadFontColor:"#000",value:"name",valueFontSize:20,valueFontWeight:!1,valueFontColor:"#000",valueHeight:60,left:0,top:0}},canvas:{type:"canvas",width:800,height:500,background:"#fff",left:0,top:0,time:(new Date).getTime(),items:[]},select:[],move:!1,back:!1}},created:function(){},mounted:function(){var t=this;document.onmouseup=function(){document.onmousemove=null},document.onkeyup=function(e){e.ctrlKey&&90==e.keyCode&&(t.back=!1)},document.onkeydown=function(e){e.ctrlKey&&90==e.keyCode&&t.handleback()}},props:[],computed:{selectOne:function(){return this.select[0]},hasCanvas:function(){return this.select.some(function(t){return"canvas"===t.type})},isAlignment:function(){return!(0===this.select.length||1==this.select.length&&this.hasCanvas)},isDistribution:function(){return!(0===this.select.length||this.select.length<3||this.hasCanvas)}},methods:{getPdf:function(){var t=this.$refs.canvas;c()(t,{allowTaint:!0}).then(function(t){var e=t.width,n=t.height,l=t.toDataURL("image/jpeg",2),i=new u.a("landscape","pt",[e,n]);i.addImage(l,"PNG",0,0,e,n),i.addPage(),i.addImage(l,"PNG",0,0,e,n),i.save("template.pdf")})},clear:function(){this.select=[],this.canvas.items=[]},tableChange:function(t){var e=this,n=this.selectOne;if("columnNumber"===t){n.tHead=[];for(var l=0;l<n.columnNumber;l++)n.tHead.push({content:"姓名",width:100})}"boxWidth"===t&&n.tHead.forEach(function(t){e.$set(t,"width",n.boxWidth)})},handleSelect:function(t){this.move||(this.select=[t]),this.move=!1},handleSelectMultiple:function(t){this.select.indexOf(t)>-1?this.select.remove(t):this.select.push(t)},handledelete:function(){var t=this;this.select.forEach(function(e){t.canvas.items.remove(e)}),this.select=[]},handleback:function(){if(this.back=!0,0!=this.$store.state.history.length){if(1==this.$store.state.history.length)return this.canvas=this.$store.state.history[0],void this.$store.state.history.pop();this.canvas=this.$store.state.history[this.$store.state.history.length-2],this.$store.state.history.pop()}},handlemousewheel:function(t,e,n,l){var i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));e||(e=this.selectOne),e[n]+i<0||(e[n]+=i,l&&l(n))},handleonmousedown:function(t,e,n,l,i){var s=this;l&&this.select.length<2&&(this.select=[l]),e||(e=this.selectOne);var o=t.clientY,a=t.clientX,c=o,r=a;document.onmousemove||(document.onmousemove=function(t){if(n){if(e[n]+(t.clientY-c)<0)return;e[n]+=t.clientY-c}else 1===s.select.length?(e.top+=t.clientY-c,e.left+=t.clientX-r):(s.move=!0,s.select.forEach(function(e){"canvas"!=e.type&&(e.top+=t.clientY-c,e.left+=t.clientX-r)}));c=t.clientY,r=t.clientX,i&&i(n)})},handleCommand:function(t){var e=JSON.parse(i()(this.elements[t]));e.time=(new Date).getTime(),this.canvas.items.push(e)},handlecopy:function(t){t=JSON.parse(i()(t)),t.time=(new Date).getTime(),this.canvas.items.push(t)},itemAlign:function(t){var e=this,n=this.canvas.width,l=this.canvas.height;if(1===this.select.length){if(this.hasCanvas)return;var i=this.$refs[this.select[0].time][0].getBoundingClientRect(),s=i.width,o=i.height;switch(t){case"left":this.selectOne.left=0;break;case"center":this.selectOne.left=(n-s)/2;break;case"right":this.selectOne.left=n-s;break;case"top":this.selectOne.top=0;break;case"middle":this.selectOne.top=(l-o)/2;break;case"bottom":this.selectOne.top=l-o}}else{var a={minleft:99999999999999,maxleft:0,center:{width:0,left:0},minright:99999999999999,maxright:0,mintop:99999999999999,maxtop:0,middle:{height:0,top:0},minbottom:99999999999999,maxbottom:0,maxLineCenter:0,minLineCenter:99999999999999,maxColCenter:0,minColCenter:99999999999999};switch(this.select.forEach(function(t,n){var l=0,i=0,s=0,o=0,c=0,r=0,u=0,h=0,d=0,f=0,v=0,m=0,p=0,g=0;"canvas"===t.type?(l=0,s=e.canvas.width,o=e.canvas.width,r=0,h=e.canvas.height,d=e.canvas.height):(l=Math.max(t.left,0),i=Math.min(t.left,e.canvas.width),s=Math.min(e.$refs[t.time][0].getBoundingClientRect().width,e.canvas.width),c=Math.max(e.$refs[t.time][0].getBoundingClientRect().width+t.left,0),o=Math.min(e.$refs[t.time][0].getBoundingClientRect().width+t.left,e.canvas.width),r=Math.max(t.top,0),u=Math.min(t.top,e.canvas.height),h=Math.min(e.$refs[t.time][0].getBoundingClientRect().height,e.canvas.height),f=Math.max(e.$refs[t.time][0].getBoundingClientRect().height+t.top,0),d=Math.min(e.$refs[t.time][0].getBoundingClientRect().height+t.top,e.canvas.height),v=Math.min(t.top+e.$refs[t.time][0].getBoundingClientRect().height/2,e.canvas.height),m=Math.max(t.top+e.$refs[t.time][0].getBoundingClientRect().height/2,0),p=Math.min(t.left+e.$refs[t.time][0].getBoundingClientRect().width/2,e.canvas.width),g=Math.max(t.left+e.$refs[t.time][0].getBoundingClientRect().width/2,0)),l<a.minleft&&(a.minleft=l),i>a.maxleft&&(a.maxleft=i),s>a.center.width&&(a.center.width=s,a.center.left=e.select[n].left),c<a.minright&&(a.minright=c),o>a.maxright&&(a.maxright=o),r<a.mintop&&(a.mintop=r),u>a.maxtop&&(a.maxtop=u),h>a.middle.height&&(a.middle.height=h,a.middle.top=e.select[n].top),f<a.minbottom&&(a.minbottom=f),d>a.maxbottom&&(a.maxbottom=d),v>a.maxLineCenter&&(a.maxLineCenter=v),m<a.minLineCenter&&(a.minLineCenter=m),p>a.maxColCenter&&(a.maxColCenter=p),g<a.minColCenter&&(a.minColCenter=g)}),t){case"left":this.select.forEach(function(t){t.left=a.minleft});break;case"center":this.select.forEach(function(t){"canvas"!=t.type&&(t.left=a.center.left+(a.center.width-e.$refs[t.time][0].getBoundingClientRect().width)/2)});break;case"right":this.select.forEach(function(t){"canvas"!=t.type&&(t.left=a.maxright-e.$refs[t.time][0].getBoundingClientRect().width)});break;case"top":this.select.forEach(function(t){t.top=a.mintop});break;case"middle":this.select.forEach(function(t){"canvas"!=t.type&&(t.top=a.middle.top+(a.middle.height-e.$refs[t.time][0].getBoundingClientRect().height)/2)});break;case"bottom":this.select.forEach(function(t){"canvas"!=t.type&&(t.top=a.maxbottom-e.$refs[t.time][0].getBoundingClientRect().height)});break;case"verticalCenter":var c=(a.maxLineCenter-a.minLineCenter)/(this.select.length-1);this.select=this.select.sort(function(t,n){return t.top+e.$refs[t.time][0].getBoundingClientRect().height/2-(n.top+e.$refs[n.time][0].getBoundingClientRect().height/2)}),this.select.forEach(function(t,n){t.top=a.minLineCenter+c*n-e.$refs[e.select[n].time][0].getBoundingClientRect().height/2});break;case"horizontalCenter":var r=(a.maxColCenter-a.minColCenter)/(this.select.length-1);this.select=this.select.sort(function(t,n){return t.left+e.$refs[t.time][0].getBoundingClientRect().width/2-(n.left+e.$refs[n.time][0].getBoundingClientRect().width/2)}),this.select.forEach(function(t,n){t.left=a.minColCenter+r*n-e.$refs[e.select[n].time][0].getBoundingClientRect().width/2});break;case"leftDistribute":var u=(a.maxleft-a.minleft)/(this.select.length-1);this.select=this.select.sort(function(t,e){return t.left-e.left}),this.select.forEach(function(t,e){t.left=a.minleft+u*e});break;case"rightDistribute":var h=(a.maxright-a.minright)/(this.select.length-1);this.select=this.select.sort(function(t,n){return t.left+e.$refs[t.time][0].getBoundingClientRect().width-(n.left+e.$refs[n.time][0].getBoundingClientRect().width)}),this.select.forEach(function(t,n){t.left=a.minright+h*n-e.$refs[e.select[n].time][0].getBoundingClientRect().width});break;case"topDistribute":var d=(a.maxtop-a.mintop)/(this.select.length-1);this.select=this.select.sort(function(t,e){return t.top-e.top}),this.select.forEach(function(t,e){t.top=a.mintop+d*e});break;case"bottomDistribute":var f=(a.maxbottom-a.minbottom)/(this.select.length-1);this.select=this.select.sort(function(t,n){return t.top+e.$refs[t.time][0].getBoundingClientRect().height-(n.top+e.$refs[n.time][0].getBoundingClientRect().height)}),this.select.forEach(function(t,n){t.top=a.minbottom+f*n-e.$refs[e.select[n].time][0].getBoundingClientRect().height})}}}},components:{},watch:{canvas:{handler:o.a.debounce(function(t,e){if(!this.back){var n=JSON.parse(i()(t));this.$store.state.history.length>150&&this.$store.state.history.shift(),this.$store.state.history.push(n)}},100),deep:!0}}}},"io3+":function(t,e){},"m/rk":function(t,e){},sEFh:function(t,e,n){"use strict";e.a={name:"app"}},w3Ae:function(t,e,n){"use strict";function l(t){n("m/rk")}var i=n("e3OG"),s=n("CJ/v"),o=n("C7Lr"),a=l,c=o(i.a,s.a,!1,a,"data-v-7710e5e1",null);e.a=c.exports},yclV:function(t,e,n){"use strict";var l=n("HzJ8"),i=(n.n(l),n("rVsN")),s=(n.n(i),n("3cXf"));n.n(s),n("Zsfk");document.body.addEventListener("touchmove",function(t){t._isScroller||t.preventDefault()}),Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(w+)/.test(t)&&(t=t.replace(RegExp.$1,n[this.getDay()]));for(var l in e)new RegExp("("+l+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[l]:("00"+e[l]).substr((""+e[l]).length)));return t},Date.prototype.add=function(t,e){switch(e*=1,isNaN(e)&&(e=0),t){case"y":this.setFullYear(this.getFullYear()+e);break;case"m":this.setMonth(this.getMonth()+e);break;case"d":this.setDate(this.getDate()+e);break;case"h":this.setHours(this.getHours()+e);break;case"n":this.setMinutes(this.getMinutes()+e);break;case"s":this.setSeconds(this.getSeconds()+e)}return this}}},["NHnr"]);
//# sourceMappingURL=app.b11f6da48b6aa4f49af8.js.map